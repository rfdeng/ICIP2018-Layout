\section{Introduction}
\label{sec:intro}

The main purpose of room layout estimation is to extract semantic boundaries among walls, ceiling and floor from a single image. It can be realized by obtaining corresponding semantic planes, as shown in Fig. \ref{fig:pipeline}. The task is challenging because of complex environmental factors such as illumination variation, viewpoint shift, object diversity and clutter. Furthermore, distinctive clues like room corners and layout boundaries are often occluded by objects. 

%%
In recent years, massive researches have been carried out on room layout estimation. Conventional methods usually follow a proposing-ranking framework \cite{hedau2009recovering,wang2013discriminative,gupta2010estimating,hedau2010thinking}. Typically, they first generate numbers of proposals through vanishing point detection and ray sampling. Then a ranking step using hand-crafted rules is adopted to select the best hypothesis. Recent methods built on FCNs \cite{long2015fully} or encoder-decoder networks achieve impressive performance \cite{mallya2015learning,ren2016coarse,zhang2017learning,dasgupta2016delay,LeeRoomNet17,zhao2017physics}. Specifically, 
%
Mallya et al.~\cite{mallya2015learning} presented an FCN for learning informative edge maps from images, which were then integrated into the conventional framework as additional features. 
%
Dasgupta et al.~\cite{dasgupta2016delay} used an FCN to learn semantic surface labels including \{Left wall, Front wall, Right wall, Ceiling, Ground\} for each pixel. They obtained a segmentation depended on heat maps from FCN and further refined it with geometric projection constraints.
% 
In a subsequent technique~\cite{ren2016coarse}, Ren et al. adopted a multi-task fully convolutional neural network to jointly predict the surface labels and boundaries. 
%
Zhang et al.~\cite{zhang2017learning} proposed a deconvolution network which has multi-layer deconvolution to attain highly reliable edge maps. 
%
Lee et al.~\cite{LeeRoomNet17} explored an end-to-end approach for room layout estimation. They employed an encoder-decoder network to delineate the room layout structure using 2D keypoints.
%
Zhao et al. \cite{zhao2017physics} introduced a semantic transfer FCN to extract reliable edge features and designed a physics inspired inference scheme for optimization.


Different from previous FCN based methods, we propose to improve the performance of room layout estimation from another perspective. Inspired by some work on RGBD semantic segmentation \cite{gupta2014learning,couprie2013indoor,li2017semantics,pagnutti2017segmentation,qi20173d}, we consider global geometric information as important as textures in room layout estimation. To implicitly employ the geometric hint, depth and normals are estimated from the original image and fused into an multi-channel FCN. We use the same formulation of layout in \cite{dasgupta2016delay} and combine their optimization step with a proposing-ranking framework to attain precise layout. Experimental results show that our method is robust and effective for layout estimation even facing clutter and occlusion.

\comments{
In this paper, we propose to enhance the FCN's ability for room layout estimation by fully utilizing the geometric information of the scene. Our pipeline is shown in Fig.~\ref{fig:pipeline}. First, we estimate depth and normal maps from a single image using network in \cite{eigen2015predicting}. Then we integrate these geometric hint to train a multi-channel FCN for semantic surface segmentation. At last, an extended post-processing algorithm based on \cite{dasgupta2016delay} is applied to generally refine the estimation results. We evaluate our method on two popular benchmark dataset. Experimental results demonstrate that our method is robust and effective for layout estimation even facing clutter and occlusion.
}





